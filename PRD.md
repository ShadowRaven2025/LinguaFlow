Итоговое Техническое Задание (ТЗ)
Проект: Веб-приложение для изучения языков "LinguaFlow"
Версия ТЗ: 1.0
Дата: 19.12.2025

1. Введение
1.1. Наименование проекта: LinguaFlow (рабочее название).
1.2. Заказчик: [Не указан].
1.3. Разработчик: [Не указан].
1.4. Цель проекта: Создание адаптивного веб-приложения для самостоятельного изучения английского и немецкого языков. Основной акцент сделан на интерактивное обучение через слайдовые уроки и эффективное запоминание лексики с помощью интеллектуальных карточек и геймификации.
1.5. Целевая аудитория: Широкий круг пользователей, желающих изучать языки с нуля или повышать свой уровень.

2. Общее описание
2.1. Тип и архитектура системы:

Тип: Прогрессивное Веб-Приложение (PWA-ready SPA).

Архитектура: Клиент-серверная.

Клиент: Next.js 14+ (App Router), React, TypeScript.

Сервер/БД: Supabase (PostgreSQL, Auth, Storage, Edge Functions).

Дизайн: Адаптивный, mobile-first (от 320px). Компонентный подход на основе shadcn/ui.

2.2. Технологический стек (утвержденный):

Фронтенд: Next.js (TSX), Tailwind CSS, shadcn/ui, Zustand/React Context (на выбор команды).

Бэкенд & БД & Auth: Supabase.

Хостинг: Vercel (Frontend), Supabase (Backend).

Пакетный менеджер: pnpm.

Контроль версий: Git (GitHub/GitLab).

3. Детальные функциональные требования
3.1. Публичная часть (Пользователь)

3.1.1. Регистрация и аутентификация:

Регистрация по email и паролю (валидация, подтверждение email).

Вход по email/паролю.

Восстановление пароля.

Защищенные маршруты для авторизованных пользователей.

3.1.2. Профиль пользователя (Личный кабинет):

Отображение аватара, имени, email.

Панель прогресса: Визуализация текущего уровня (рассчитывается на основе комбинации пройденных уроков и выученных слов), общий счет (XP).

Статистика: Графики/цифры по дням и неделям (время в приложении, пройденные урокы, изученные слова, точность ответов).

Коллекция ачивок: Галерея полученных карточек-достижений.

Настройки: Смена пароля, управление уведомлениями (в будущем).

3.1.3. Интерактивные уроки:

Иерархия: Язык -> Курс (A1, B2) -> Тема -> Урок.

Структура урока: Линейная последовательность слайдов.

Типы слайдов:

theory: Текст, изображения, примеры.

quiz_single: Один вопрос с выбором 1 из 4 вариантов.

quiz_multiple: Вопрос с выбором нескольких правильных ответов.

fill_gap: Заполнение пропусков в предложении.

match: Сопоставление элементов двух столбцов.

Навигация: "Далее"/"Назад", индикатор прогресса в уроке.

Проверка: Мгновенная проверка ответов в интерактивных слайдах с пояснениями.

Сохранение состояния: Прогресс завершения урока сохраняется при выходе.

3.1.4. Модуль карточек (Flashcards & SRS):

Наборы карточек: Автоматически формируются на основе слов из пройденных уроков. Возможность ручного создания наборов.

Режим обучения:

Показ слова/фразы на целевом языке.

Озвучка (при наличии аудио).

Возможность "перевернуть" карточку для просмотра перевода и примеров.

Оценка сложности ("Снова", "Трудно", "Хорошо", "Легко") для алгоритма SRS.

Режим тестирования: Различные форматы: написание слова по переводу, выбор перевода по слову.

3.1.5. Система мотивации и геймификации:

Механика ачивок:

Типы: "Серийник" (5/10/20 правильных ответов подряд), "Исследователь" (пройти N тем), "Спринтер" (пройти урок с точностью >90% за время T), "Последователь" (заходить в приложение N дней подряд).

Визуальное отображение: Уникальная карточка с названием, описанием, иконкой, датой получения.

Триггер: Моментальное уведомление (toast) при получении.

Опыт (XP): Начисление очков за завершение уроков и успешные тесты карточек. Прямая связь с уровнем пользователя.

3.2. Административная панель (Admin Dashboard)

3.2.1. Доступ: Отдельный маршрут (/admin). Доступ только для пользователей с ролью admin в Supabase.

3.2.2. Управление учебным контентом (CRUD):

Управление языками, курсами, темами, уроками.

Редактор уроков: Визуальный интерфейс для сборки урока из слайдов с предпросмотром.

3.2.3. Управление словарем:

Добавление/редактирование слов (слово, транскрипция, перевод, часть речи).

Привязка слов к конкретным урокам.

Загрузка аудиофайлов с произношением (интерфейс drag-and-drop).

3.2.4. Управление ачивками:

Создание шаблонов ачивок: настройка названия, описания, иконки, условия срабатывания (логика).

3.2.5. Мониторинг (базовый):

Просмотр списка пользователей (анонимизированный).

Отображение общей статистики: количество активных пользователей, пройденных уроков за период.

4. Нефункциональные требования
4.1. Производительность: Core Web Vitals в "зеленой" зоне. Время первого взаимодействия (FID) < 100 мс.

4.2. Адаптивность: Полное соответствие дизайна на всех основных разрешениях (320px - 1920px+). Использование Tailwind CSS breakpoints.

4.3. Безопасность:

Все API-запросы с клиента проходят через безопасные серверные действия (Server Actions) или защищенные Supabase клиенты с RLS.

RLS-политики настроены на уровне БД для изоляции данных пользователей и контроля доступа к контенту.

Защита от распространенных уязвимостей (XSS, CSRF).

4.4. Масштабируемость: Использование статической генерации (SSG) и инкрементальной статической регенерации (ISR) Next.js для страниц каталога уроков. Serverless-архитектура бэкенда.

5. Ограничения и допущения
Ограничения:

Первоначальная поддержка двух языков: английский, немецкий.

Аудиоконтент (озвучка слов) загружается администратором вручную.

Отсутствие встроенного live-чата или сообществ на первом этапе.

Допущения:

Алгоритм интервального повторения (SRS) будет реализован по упрощенной схеме (например, модифицированный алгоритм Лейтнера).

Уровень пользователя рассчитывается по формуле: Уровень = sqrt(XP / 100).

6. Этапы разработки (Roadmap)
Этап 1 (Sprint 1-2): Базовая настройка проекта, архитектура, авторизация, профиль пользователя.

Этап 2 (Sprint 3-4): Разработка ядра: редактор уроков (админка) и плеер уроков (клиент).

Этап 3 (Sprint 5-6): Модуль карточек с SRS и системой ачивок.

Этап 4 (Sprint 7): Доработка UI/UX, тестирование, исправление ошибок, деплой и сдача MVP.

Рекомендации по улучшению и развитию (Post-MVP):
Социальность: Добавление рейтинговых таблиц (лидербордов) по друзьям или глобальных.

Голосование: Интеграция с Web Speech API для упражнений на произношение с проверкой.

Адаптивность: Более сложный алгоритм рекомендаций уроков на основе пробелов в знаниях (выявленных через ошибки в карточках).

Монетизация: Модель Freemium с открытием продвинутых уроков или персональной статистики по подписке.

Документ готов к передаче в разработку.
Для начала работ необходимо утвердить данный документ и предоставить дизайн-макеты (Figma) в соответствии с описанной структурой.